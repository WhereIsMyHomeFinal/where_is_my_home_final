{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport AppMain from \"@/views/AppMain\";\nimport AppInstagram from \"@/views/AppInstagram\";\nimport AppHouse from \"@/views/AppHouse\";\nimport store from \"@/store\";\nVue.use(VueRouter);\n\n// https://v3.router.vuejs.org/kr/guide/advanced/navigation-guards.html\nconst onlyAuthUser = async (to, from, next) => {\n  const checkUserInfo = store.getters[\"memberStore/checkUserInfo\"];\n  const checkToken = store.getters[\"memberStore/checkToken\"];\n  let token = sessionStorage.getItem(\"access-token\");\n  console.log(\"로그인 처리 전\", checkUserInfo, token);\n  if (checkUserInfo != null && token) {\n    console.log(\"토큰 유효성 체크하러 가자!!!!\");\n    await store.dispatch(\"memberStore/getUserInfo\", token);\n  }\n  if (!checkToken || checkUserInfo === null) {\n    alert(\"로그인이 필요한 페이지입니다..\");\n    // next({ name: \"login\" });\n    router.push({\n      name: \"login\"\n    });\n  } else {\n    console.log(\"로그인 했다!!!!!!!!!!!!!.\");\n    next();\n  }\n};\nconst routes = [{\n  path: \"/\",\n  name: \"main\",\n  component: AppMain\n}, {\n  path: \"/instagram\",\n  name: \"insta\",\n  component: AppInstagram\n}, {\n  path: \"/house\",\n  name: \"house\",\n  component: AppHouse\n}, {\n  path: \"/todo\",\n  name: \"todo\",\n  component: () => import(\"@/views/AppTodo\")\n}, {\n  path: \"/user\",\n  name: \"user\",\n  component: () => import(\"@/views/AppUser\"),\n  children: [{\n    path: \"join\",\n    name: \"join\",\n    component: () => import(\"@/components/user/UserRegister\")\n  }, {\n    path: \"login\",\n    name: \"login\",\n    component: () => import(\"@/components/user/UserLogin\")\n  }, {\n    path: \"mypage\",\n    name: \"mypage\",\n    beforeEnter: onlyAuthUser,\n    component: () => import(\"@/components/user/UserMyPage\")\n  }]\n}, {\n  path: \"/board\",\n  name: \"board\",\n  component: () => import(\"@/views/AppBoard\"),\n  redirect: \"/board/list\",\n  children: [{\n    path: \"list\",\n    name: \"boardlist\",\n    component: () => import(\"@/components/board/BoardList\")\n  }, {\n    path: \"write\",\n    name: \"boardwrite\",\n    beforeEnter: onlyAuthUser,\n    component: () => import(\"@/components/board/BoardWrite\")\n  }, {\n    path: \"view/:articleno\",\n    name: \"boardview\",\n    beforeEnter: onlyAuthUser,\n    component: () => import(\"@/components/board/BoardView\")\n  }, {\n    path: \"modify\",\n    name: \"boardmodify\",\n    beforeEnter: onlyAuthUser,\n    component: () => import(\"@/components/board/BoardModify\")\n  }, {\n    path: \"delete/:articleno\",\n    name: \"boarddelete\",\n    beforeEnter: onlyAuthUser,\n    component: () => import(\"@/components/board/BoardDelete\")\n  }]\n}];\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","AppMain","AppInstagram","AppHouse","store","use","onlyAuthUser","to","from","next","checkUserInfo","getters","checkToken","token","sessionStorage","getItem","console","log","dispatch","alert","router","push","name","routes","path","component","children","beforeEnter","redirect","mode","base","process","env","BASE_URL"],"sources":["C:/SSAFY/heej_workspace/관통PJT/where_is_my_home_final/where_is_my_home_v0/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport AppMain from \"@/views/AppMain\";\r\nimport AppInstagram from \"@/views/AppInstagram\";\r\nimport AppHouse from \"@/views/AppHouse\";\r\n\r\nimport store from \"@/store\";\r\n\r\nVue.use(VueRouter);\r\n\r\n// https://v3.router.vuejs.org/kr/guide/advanced/navigation-guards.html\r\nconst onlyAuthUser = async (to, from, next) => {\r\n  const checkUserInfo = store.getters[\"memberStore/checkUserInfo\"];\r\n  const checkToken = store.getters[\"memberStore/checkToken\"];\r\n  let token = sessionStorage.getItem(\"access-token\");\r\n  console.log(\"로그인 처리 전\", checkUserInfo, token);\r\n\r\n  if (checkUserInfo != null && token) {\r\n    console.log(\"토큰 유효성 체크하러 가자!!!!\");\r\n    await store.dispatch(\"memberStore/getUserInfo\", token);\r\n  }\r\n  if (!checkToken || checkUserInfo === null) {\r\n    alert(\"로그인이 필요한 페이지입니다..\");\r\n    // next({ name: \"login\" });\r\n    router.push({ name: \"login\" });\r\n  } else {\r\n    console.log(\"로그인 했다!!!!!!!!!!!!!.\");\r\n    next();\r\n  }\r\n};\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"main\",\r\n    component: AppMain,\r\n  },\r\n  {\r\n    path: \"/instagram\",\r\n    name: \"insta\",\r\n    component: AppInstagram,\r\n  },\r\n  {\r\n    path: \"/house\",\r\n    name: \"house\",\r\n    component: AppHouse,\r\n  },\r\n  {\r\n    path: \"/todo\",\r\n    name: \"todo\",\r\n    component: () => import(\"@/views/AppTodo\"),\r\n  },\r\n  {\r\n    path: \"/user\",\r\n    name: \"user\",\r\n    component: () => import(\"@/views/AppUser\"),\r\n    children: [\r\n      {\r\n        path: \"join\",\r\n        name: \"join\",\r\n        component: () => import(\"@/components/user/UserRegister\"),\r\n      },\r\n      {\r\n        path: \"login\",\r\n        name: \"login\",\r\n        component: () => import(\"@/components/user/UserLogin\"),\r\n      },\r\n      {\r\n        path: \"mypage\",\r\n        name: \"mypage\",\r\n        beforeEnter: onlyAuthUser,\r\n        component: () => import(\"@/components/user/UserMyPage\"),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: \"/board\",\r\n    name: \"board\",\r\n    component: () => import(\"@/views/AppBoard\"),\r\n    redirect: \"/board/list\",\r\n    children: [\r\n      {\r\n        path: \"list\",\r\n        name: \"boardlist\",\r\n        component: () => import(\"@/components/board/BoardList\"),\r\n      },\r\n      {\r\n        path: \"write\",\r\n        name: \"boardwrite\",\r\n        beforeEnter: onlyAuthUser,\r\n        component: () => import(\"@/components/board/BoardWrite\"),\r\n      },\r\n      {\r\n        path: \"view/:articleno\",\r\n        name: \"boardview\",\r\n        beforeEnter: onlyAuthUser,\r\n        component: () => import(\"@/components/board/BoardView\"),\r\n      },\r\n      {\r\n        path: \"modify\",\r\n        name: \"boardmodify\",\r\n        beforeEnter: onlyAuthUser,\r\n        component: () => import(\"@/components/board/BoardModify\"),\r\n      },\r\n      {\r\n        path: \"delete/:articleno\",\r\n        name: \"boarddelete\",\r\n        beforeEnter: onlyAuthUser,\r\n        component: () => import(\"@/components/board/BoardDelete\"),\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  base: process.env.BASE_URL,\r\n  routes,\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}